<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Palabra de Dios</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb,#a6c1ee);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
overflow:hidden;
}

.app{width:95%;max-width:700px;text-align:center;}

h1{
font-size:2em;
margin-bottom:20px;
background:linear-gradient(45deg,#8e2de2,#4a00e0);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.card{
background:white;
border-radius:20px;
padding:30px;
box-shadow:0 10px 30px rgba(0,0,0,0.15);
}

.card p{
font-size:1.1em;
margin-bottom:10px;
white-space:pre-line;
}

.referencia{
color:#ff6ec4;
font-weight:bold;
margin-bottom:15px;
}

button{
border:none;
padding:10px 18px;
margin:6px;
border-radius:25px;
cursor:pointer;
font-size:0.9em;
color:white;
transition:0.3s;
}

.btn-exp{background:linear-gradient(45deg,#ff6ec4,#ff9a9e);}
.btn-ora{background:linear-gradient(45deg,#7873f5,#4facfe);}
.btn-nuevo{background:linear-gradient(45deg,#43e97b,#38f9d7);}

button:hover{transform:scale(1.08);}

.extra{
margin-top:15px;
font-size:0.95em;
color:#555;
display:none;
}

</style>
</head>
<body>

<div class="app">
<h1>‚ú® La Palabra de Dios ‚ú®</h1>

<div class="card">
<p id="versiculo">Cargando vers√≠culo...</p>
<div class="referencia" id="referencia"></div>

<button class="btn-exp" onclick="mostrar('exp')">‚ú® Expl√≠came</button>
<button class="btn-ora" onclick="mostrar('ora')">üôè Mi Oraci√≥n</button>
<button class="btn-nuevo" onclick="cargarVersiculo()">üåø Otro Vers√≠culo</button>

<div id="exp" class="extra"></div>
<div id="ora" class="extra"></div>

</div>
</div>

<script>

/* Detecta el tema del vers√≠culo */
function analizarTema(texto){
texto=texto.toLowerCase();
if(texto.includes("temor")||texto.includes("no temas")) return "miedo e inseguridad";
if(texto.includes("amor")) return "amor y relaciones";
if(texto.includes("paz")) return "ansiedad e inquietud interior";
if(texto.includes("fuerza")||texto.includes("fortaleza")) return "debilidad y necesidad de fortaleza";
return "procesos personales y decisiones importantes";
}

/* Genera explicaci√≥n autom√°tica */
function generarExplicacion(texto){
let tema=analizarTema(texto);
return `Este vers√≠culo se relaciona con ${tema}. La Biblia no es solo un texto antiguo: es gu√≠a para tu vida actual. 
Dios nos habla a trav√©s de Su Palabra en momentos de dificultad, decisiones, desaf√≠os y alegr√≠as, record√°ndonos que Su amor y direcci√≥n est√°n siempre disponibles para ti.`;
}

/* Genera oraci√≥n autom√°tica */
function generarOracion(texto){
let tema=analizarTema(texto);
return `Se√±or Dios, en medio de mis ${tema}, recibo esta palabra con fe. 
Dame paz, fortaleza y sabidur√≠a para cada d√≠a. 
Gu√≠a mi coraz√≥n y transforma mis pensamientos para que conf√≠e plenamente en Ti. Am√©n.`;
}

/* Carga vers√≠culo desde API en espa√±ol */
async function cargarVersiculo(){
document.getElementById("versiculo").innerText="Cargando vers√≠culo...";
document.getElementById("referencia").innerText="";
document.getElementById("exp").style.display="none";
document.getElementById("ora").style.display="none";

try{
const res=await fetch("https://beta.ourmanna.com/api/v1/get/?format=json&order=random&language=es");
const data=await res.json();

let texto=data.verse.details.text;
let referencia=data.verse.details.reference;

document.getElementById("versiculo").innerText=`"${texto}"`;
document.getElementById("referencia").innerText=referencia;

document.getElementById("exp").innerText=generarExplicacion(texto);
document.getElementById("ora").innerText=generarOracion(texto);

}catch(error){
document.getElementById("versiculo").innerText="No se pudo cargar el vers√≠culo. Revisa tu conexi√≥n.";
document.getElementById("referencia").innerText="";
}
}

/* Muestra explicaci√≥n u oraci√≥n */
function mostrar(id){
document.getElementById("exp").style.display="none";
document.getElementById("ora").style.display="none";
document.getElementById(id).style.display="block";
}

/* Ejecuta la primera vez */
cargarVersiculo();

</script>

</body>
</html>
