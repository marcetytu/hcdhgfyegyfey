<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Palabra de Dios</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb,#a6c1ee);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
overflow:hidden;
}

/* CONTENEDOR */
.app{
width:95%;
max-width:700px;
text-align:center;
}

/* TITULO */
h1{
font-size:2.2em;
margin-bottom:25px;
background:linear-gradient(45deg,#8e2de2,#4a00e0);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:brillo 3s infinite alternate;
}

@keyframes brillo{
from{opacity:0.7;}
to{opacity:1;}
}

/* SLIDER */
.slider{
overflow:hidden;
position:relative;
}

.slides{
display:flex;
transition:transform 0.6s ease;
}

.slide{
min-width:100%;
padding:25px;
}

.card{
background:white;
border-radius:20px;
padding:30px;
box-shadow:0 10px 30px rgba(0,0,0,0.15);
border:3px solid transparent;
background-clip:padding-box;
position:relative;
animation:fade 0.8s ease;
}

.card::before{
content:"";
position:absolute;
top:-3px;
left:-3px;
right:-3px;
bottom:-3px;
border-radius:22px;
background:linear-gradient(45deg,#ff6ec4,#7873f5);
z-index:-1;
}

.card p{
font-size:1.1em;
color:#444;
margin-bottom:10px;
}

.referencia{
color:#ff6ec4;
font-weight:bold;
font-size:0.9em;
}

/* BOTONES */
.botones{
margin-top:20px;
}

button{
border:none;
padding:10px 18px;
margin:6px;
border-radius:25px;
cursor:pointer;
font-size:0.9em;
color:white;
transition:0.3s;
}

.btn-exp{background:linear-gradient(45deg,#ff6ec4,#ff9a9e);}
.btn-ora{background:linear-gradient(45deg,#7873f5,#4facfe);}
.btn-nuevo{background:linear-gradient(45deg,#43e97b,#38f9d7);}

button:hover{
transform:scale(1.08);
}

/* TEXTO EXTRA */
.extra{
margin-top:15px;
font-size:0.95em;
color:#555;
animation:fade 0.7s ease;
}

@keyframes fade{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}

</style>
</head>
<body>

<div class="app">
<h1>‚ú® La Palabra de Dios ‚ú®</h1>

<div class="slider">
<div class="slides" id="slides"></div>
</div>

</div>

<script>

const slides=document.getElementById("slides");
let index=0;

/* GENERADOR INTELIGENTE LOCAL */
function analizarTema(texto){

texto=texto.toLowerCase();

if(texto.includes("miedo") || texto.includes("no temas"))
return "miedo e inseguridad";

if(texto.includes("fortalece") || texto.includes("fuerza"))
return "debilidad y falta de √°nimo";

if(texto.includes("descans") || texto.includes("cargados"))
return "cansancio emocional";

if(texto.includes("amor"))
return "relaciones y afectos";

return "procesos de incertidumbre y crecimiento personal";
}

function generarExplicacion(texto){
let tema=analizarTema(texto);

return "Este vers√≠culo habla directamente a personas que est√°n atravesando "+tema+". "+
"La Palabra de Dios no es solo un mensaje antiguo, sino direcci√≥n viva para situaciones reales como conflictos familiares, decisiones laborales, crisis espirituales o momentos de ansiedad. "+
"A trav√©s de esta promesa, Dios nos recuerda que √âl obra incluso cuando no entendemos el proceso, y que su presencia sostiene nuestras emociones, pensamientos y decisiones diarias.";
}

function generarOracion(texto){
let tema=analizarTema(texto);

return "Se√±or amado, hoy recibo esta palabra en medio de mis "+tema+". "+
"Si mi coraz√≥n est√° inquieto, dame paz; si me siento d√©bil, s√© mi fortaleza; "+
"si no entiendo lo que ocurre, ens√©√±ame a confiar. "+
"Gu√≠a mis pasos, ordena mis pensamientos y ay√∫dame a vivir conforme a tu voluntad. "+
"Jes√∫s, transforma mis temores en fe firme y mis dudas en esperanza renovada. Am√©n.";
}

/* CARGAR VERS√çCULO AUTOM√ÅTICO */
async function cargarVersiculo(){

slides.innerHTML="<div class='slide'><div class='card'>Cargando vers√≠culo...</div></div>";

try{

// Generador simple de referencias comunes
const libros = [
"Juan 3:16",
"Salmos 23:1",
"Romanos 8:28",
"Isa√≠as 41:10",
"Filipenses 4:13",
"Mateo 11:28",
"Proverbios 3:5",
"Jerem√≠as 29:11",
"2 Corintios 5:7",
"Hebreos 11:1"
];

let referenciaRandom = libros[Math.floor(Math.random()*libros.length)];

const res = await fetch(`https://biblebytopic.com/api/getrandompopularverse-kjv{encodeURIComponent(referenciaRandom)}?translation=rvr1960`);
const data = await res.json();

if(!data.text){
throw new Error("Sin texto");
}

let exp=generarExplicacion(data.text);
let ora=generarOracion(data.text);

slides.innerHTML=`
<div class="slide">
<div class="card">
<p>"${data.text}"</p>
<div class="referencia">~ ${data.reference}</div>

<div class="botones">
<button class="btn-exp" onclick="mostrarExp()">‚ú® Expl√≠came</button>
<button class="btn-ora" onclick="mostrarOra()">üôè Mi Oraci√≥n</button>
<button class="btn-nuevo" onclick="cargarVersiculo()">üåø Otro Vers√≠culo</button>
</div>

<div id="exp" class="extra" style="display:none">${exp}</div>
<div id="ora" class="extra" style="display:none">${ora}</div>

</div>
</div>
`;

} catch (error){

slides.innerHTML=`
<div class="slide">
<div class="card">
<p>No se pudo cargar el vers√≠culo.</p>
<div class="referencia">Revisa conexi√≥n o API</div>
</div>
</div>
`;

}

}

/* SLIDE TACTIL */
let startX=0;

slides.addEventListener("touchstart",e=>{
startX=e.touches[0].clientX;
});

slides.addEventListener("touchend",e=>{
let endX=e.changedTouches[0].clientX;
if(startX-endX>50){index++;}
if(endX-startX>50){index--;}
if(index<0)index=0;
if(index>0)index=0;
actualizar();
});

/* PC */
slides.addEventListener("mousedown",e=>{
startX=e.clientX;
});
slides.addEventListener("mouseup",e=>{
let endX=e.clientX;
if(startX-endX>50){index++;}
if(endX-startX>50){index--;}
if(index<0)index=0;
if(index>0)index=0;
actualizar();
});

cargarVersiculo();

</script>

</body>

</html>

