<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Palabra de Dios</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb,#a6c1ee);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
overflow:hidden;
}

.app{
width:95%;
max-width:700px;
text-align:center;
}

h1{
font-size:2.2em;
margin-bottom:25px;
background:linear-gradient(45deg,#8e2de2,#4a00e0);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:brillo 3s infinite alternate;
}

@keyframes brillo{
from{opacity:0.7;}
to{opacity:1;}
}

.slider{
overflow:hidden;
position:relative;
}

.slides{
display:flex;
transition:transform 0.6s ease;
}

.slide{
min-width:100%;
padding:25px;
}

.card{
background:white;
border-radius:20px;
padding:30px;
box-shadow:0 10px 30px rgba(0,0,0,0.15);
position:relative;
animation:fade 0.8s ease;
}

.card p{
font-size:1.1em;
color:#444;
margin-bottom:10px;
white-space:pre-line;
}

.referencia{
color:#ff6ec4;
font-weight:bold;
font-size:0.9em;
}

.botones{
margin-top:20px;
}

button{
border:none;
padding:10px 18px;
margin:6px;
border-radius:25px;
cursor:pointer;
font-size:0.9em;
color:white;
transition:0.3s;
}

.btn-exp{background:linear-gradient(45deg,#ff6ec4,#ff9a9e);}
.btn-ora{background:linear-gradient(45deg,#7873f5,#4facfe);}
.btn-nuevo{background:linear-gradient(45deg,#43e97b,#38f9d7);}

button:hover{
transform:scale(1.08);
}

.extra{
margin-top:15px;
font-size:0.95em;
color:#555;
animation:fade 0.7s ease;
}

@keyframes fade{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}
</style>
</head>
<body>

<div class="app">
<h1>‚ú® La Palabra de Dios ‚ú®</h1>
<div class="slider">
<div class="slides" id="slides"></div>
</div>
</div>

<script>

const slides=document.getElementById("slides");

/* LISTA DE LIBROS PARA RANDOM REAL */
const libros=[
"juan","salmos","proverbios","romanos","isaias",
"jeremias","mateo","lucas","hechos","filipenses",
"efesios","hebreos","santiago"
];

function randomLibro(){
return libros[Math.floor(Math.random()*libros.length)];
}

/* ANALISIS INTELIGENTE MEJORADO */
function analizarTema(texto){
texto=texto.toLowerCase();

if(texto.includes("miedo")||texto.includes("temas"))
return "momentos de miedo e inseguridad";

if(texto.includes("fortaleza")||texto.includes("fuerza"))
return "debilidad y necesidad de fortaleza";

if(texto.includes("amor"))
return "relaciones, perd√≥n y amor";

if(texto.includes("esperanza"))
return "tiempos dif√≠ciles donde necesitas esperanza";

if(texto.includes("paz"))
return "ansiedad o inquietud interior";

return "procesos personales donde necesitas direcci√≥n espiritual";
}

function generarExplicacion(texto){
let tema=analizarTema(texto);

return `Este vers√≠culo est√° profundamente conectado con ${tema}. 
No es solo una frase antigua, sino una gu√≠a espiritual para situaciones reales como problemas familiares, decisiones importantes o luchas internas.
Dios usa esta palabra para recordarte que √âl sigue obrando incluso cuando no ves resultados inmediatos.
Es una invitaci√≥n a confiar, obedecer y caminar con fe aunque el panorama no sea claro.`;
}

function generarOracion(texto){
let tema=analizarTema(texto);

return `Se√±or amado, recibo esta palabra en medio de ${tema}.
Si mi coraz√≥n est√° inquieto, dame paz.
Si estoy d√©bil, s√© mi fuerza.
Si tengo dudas, aumenta mi fe.
Gu√≠a mis pasos y ay√∫dame a confiar en tus planes.
Transforma mi temor en valent√≠a y mi ansiedad en esperanza. Am√©n.`;
}

async function cargarVersiculo(){

slides.innerHTML="<div class='slide'><div class='card'>Cargando...</div></div>";

try{

let libro=randomLibro();
let cap=Math.floor(Math.random()*20)+1;

const res=await fetch(`https://bible-api.com/${libro}+${cap}:1?translation=rvr1960`);

if(!res.ok) throw new Error("Error API");

const data=await res.json();

let texto=data.text.trim();

let exp=generarExplicacion(texto);
let ora=generarOracion(texto);

slides.innerHTML=`
<div class="slide">
<div class="card">
<p>"${texto}"</p>
<div class="referencia">~ ${data.reference}</div>

<div class="botones">
<button class="btn-exp" onclick="mostrar('exp')">‚ú® Expl√≠came</button>
<button class="btn-ora" onclick="mostrar('ora')">üôè Mi Oraci√≥n</button>
<button class="btn-nuevo" onclick="cargarVersiculo()">üåø Otro Vers√≠culo</button>
</div>

<div id="exp" class="extra" style="display:none">${exp}</div>
<div id="ora" class="extra" style="display:none">${ora}</div>

</div>
</div>
`;

}catch(error){

slides.innerHTML=`
<div class="slide">
<div class="card">
<p>No se pudo cargar el vers√≠culo.</p>
<button class="btn-nuevo" onclick="cargarVersiculo()">Intentar nuevamente</button>
</div>
</div>
`;

}

}

function mostrar(id){
document.getElementById("exp").style.display="none";
document.getElementById("ora").style.display="none";
document.getElementById(id).style.display="block";
}

cargarVersiculo();

</script>

</body>
</html>
